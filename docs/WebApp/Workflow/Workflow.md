
## **WebApp Flow**

The WebApp is designed to automate the process of fixing PDF alignment issues in Sigo Signs. The application helps designers efficiently review, approve, or deny PDFs, ensuring that only properly aligned signs proceed to printing. The system also automates the movement of files between different folders based on their status.

### **1. My Items**
   - Displays the list of all files assigned to a particular user for review and approval.

### **2. Approved Items List**
   - Displays the list of files that have been approved by the user.

### **3. Unassigned Items**
   - Displays a grouped list of file types based on **groupSize** and **signSize**, along with the count of files for each type. The user can assign these files to themselves for review.

### **4. File Viewer**
   - **Left side:** Displays the Amazon preview image of the file.
   - **Right side:** Displays the PDF image generated by CNP (which may have alignment issues).

### **5. Approve or Deny Files**
   - If the designer finds the file to be correct, they approve the file, which automatically moves the file to the **Fixed Folder**.
   - If the designer finds the file incorrect, they deny the file and specify the reasons for denial.

### **6. Repeat Process**
   - The process repeats for the subsequent files assigned to the user, ensuring a streamlined review and approval process.



## **File Path Changes Based on Action**

### **Action Definitions**

- **Before Fixing:** The file is initially placed in the **Exported PDF** directory but is moved to the **Staging** folder for further processing.
    
- **Approved:** Once approved, the file is moved to the **Fixed** folder inside the **Exported PDF** directory, ensuring correct categorization.
    
- **Denied:** If denied, the file remains in its original directory under **Exported PDF**, ensuring easy reference and tracking.

The WebApp manages the approval process and automatically updates file paths based on the action taken:

| Action         | Current Path                                                  | New Path After WebApp Update                                       |
|---------------|--------------------------------------------------------------|-------------------------------------------------------------------|
| **Before Fixing** | `\Exported PDF\3-21-2025\DIBOND\111-7536207-7777833-DIBOND.pdf` | `\Staging\3-21-2025\DIBOND\111-7536207-7777833-DIBOND.pdf`       |
| **Approved**   |      -                                                            | `\Exported PDF\3-21-2025\Fixed\DIBOND\111-7536207-7777833-DIBOND.pdf` |
| **Denied**     |      -                                                            | `\Exported PDF\3-21-2025\DIBOND\111-7536207-7777833-DIBOND.pdf`  |
 

 
This structured approach ensures proper file organization and seamless automation of the approval process.

## **PDF Fixing Workflow**

The PDF generation process sometimes results in **misaligned signs**, requiring manual correction. The WebApp streamlines the workflow as follows:

### **1. Issue Detection**

- PDFs with **alignment issues** are placed in a **specific directory for review**.

### **2. PDF Assignment & Fixing Process**

- PDFs are categorized as **unassigned** or **assigned** to designers for correction.
    
- Assigned PDFs appear based on the following filters:
    
    - **shipBy** → Files with earlier **ship-by dates** are assigned first.
        
    - **isSkipped** → Unskipped files are assigned first (**not used in the current WebApp version**).
        
    - **orderType** → **Premium files** are assigned first.
        
    - **updatedAt** → Files follow a **FIFO (First-In-First-Out)** order.
        
- **Previously denied PDFs never appear again** in the WebApp.
    
- Designers use **PhotoPea**, an online photo-editing tool, to **correct alignment issues**.
    
- Once fixed, PDFs are moved to the **Fixed** folder, and their **status changes to "Ready to Print"**.

## **Deny Reasons**

- When designers choose to **deny** a file, they are required to **provide a valid reason** for the denial.

## **Unassigned / My Items Preview**

- The WebApp displays **unassigned files** and shows the **count** of these files.
    
- **My Items** displays the files assigned to the **currently logged-in user**.
    
- Users can also view the **list of approved items**.